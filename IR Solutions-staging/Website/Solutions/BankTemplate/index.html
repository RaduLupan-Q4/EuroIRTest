<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="format-detection" content="telephone=no">
    <link href="https://fonts.googleapis.com/css?family=Titillium+Web:300,400,500,600,700" rel="stylesheet">
    <title>EI Template</title>
    <link rel="stylesheet" href="css/tablesaw.css">
    <link rel="stylesheet" type="text/css" href="css/core.css">
</head>

<body>
<header>
    <div class="wrapper">
        <nav class="desktop">
            <li><a href="javascript:void(0)">Home</a></li>
            <li><a href="javascript:void(0)">About us</a></li>
            <li><a href="javascript:void(0)">Investor Relations</a></li>
            <li><a href="javascript:void(0)">Media</a></li>
            <li><a href="javascript:void(0)">Careers</a></li>
            <li><a href="javascript:void(0)">Contact us</a></li>
        </nav>
        <nav class="mobile">
            <div class="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>
            <ul>
                <li><a href="javascript:void(0)">Home</a></li>
                <li><a href="javascript:void(0)">About us</a></li>
                <li><a href="javascript:void(0)">Investor Relations</a></li>
                <li><a href="javascript:void(0)">Media</a></li>
                <li><a href="javascript:void(0)">Careers</a></li>
                <li><a href="javascript:void(0)">Contact us</a></li>
            </ul>
        </nav>
    </div>
</header>
<main id="view"></main>
<script type="text/html" id="home">

    <div class="wrapper">
        <div class="slider">
            <div>
                <div class="tool-block boxes" id="slidebar"></div>
            </div>
        </div>
        <div class="three-blocks">
            <div class="tool-block" id="chart">
                <iframe src="views/omx.chart.html" frameborder="0" style="width:100%; height: 400px;"></iframe>
            </div>
            <div class="tool-block" id="chart">
                <iframe src="views/ftse.chart.html" frameborder="0" style="width:100%; height: 400px;"></iframe>
            </div>
            <div class="tool-block" id="profile">
                <iframe src="http://ir.euroinvestor.com/solutionsstaging/FlowtechFluidpowerPlc/2526/newsHeadline.aspx"
                        frameborder="0" style="width:100%; height: 400px;"></iframe>
            </div>
        </div>
        <div class="tool-block docs-main" id="calendar">
            <h2>OMX C20</h2>
            <table class="tablesaw" data-tablesaw-mode="swipe" data-tablesaw-sortable data-tablesaw-sortable-switch
                   data-tablesaw-minimap data-tablesaw-mode-switch>
                <thead>
                <tr>
                    <th scope="col" data-tablesaw-sortable-col data-tablesaw-sortable-default-col
                        data-tablesaw-priority="persist" class="first-th">Name
                    </th>
                    <th scope="col" data-tablesaw-sortable-col data-tablesaw-priority="3">Bid</th>
                    <th scope="col" data-tablesaw-sortable-col data-tablesaw-priority="2">Ask</th>
                    <th scope="col" data-tablesaw-sortable-col data-tablesaw-priority="1">Last</th>
                    <th scope="col" data-tablesaw-sortable-col data-tablesaw-priority="4" class="align-right">+/-
                    </th>
                    <th scope="col" data-tablesaw-sortable-col data-tablesaw-priority="4" class="padding-left">Day
                        High
                    </th>
                    <th scope="col" data-tablesaw-sortable-col data-tablesaw-priority="4">Day Low</th>
                    <th scope="col" data-tablesaw-sortable-col data-tablesaw-priority="4">Volume</th>
                    <th scope="col" data-tablesaw-sortable-col data-tablesaw-priority="4">Chart</th>
                    <th scope="col" data-tablesaw-sortable-col data-tablesaw-priority="4">Time</th>
                </tr>
                </thead>
                <tbody>
                </tbody>
            </table>
        </div>
    </div>
</script>

<script type="text/html" id="more">
    <div class="wrapper">
        <div class="side-tools-menu">
            <div id="nav-icon3">
                <span></span>
                <span></span>
                <span></span>
                <span></span>
            </div>
            <ul>
                <li>
                    <a href="javascript:void(0)" id="chartlink">Chart</a>
                </li>
                <li>
                    <a href="javascript:void(0)" id="profilelink">Profile</a>
                </li>
                <li>
                    <a href="javascript:void(0)" id="calculatorlink">Calculator</a>
                </li>
                <li>
                    <a href="javascript:void(0)" id="lookuplink">History lookup</a>
                </li>
                <li>
                    <a href="javascript:void(0)" id="newslink">News</a>
                </li>
                <li>
                    <a href="javascript:void(0)" id="emaillink">Email Alerts</a>
                </li>
            </ul>
        </div>
        <div class="tool-block" id="chart">
            <span class="title-of-box">Chart</span>
            <iframe src="http://ir.euroinvestor.com/solutionsstaging/demoOMXC20/<%=solutionId%>/chart.aspx" frameborder="0"
                    width="100%" scrolling="no" style="height: 855px;"></iframe>
        </div>
        <div class="tool-block" id="profile">
            <span class="title-of-box">Profile</span>
            <iframe class="resize" src="http://ir.euroinvestor.com/solutionsstaging/demoOMXC20/<%=solutionId%>/profile.aspx" frameborder="0"
                    width="100%" scrolling="no" ></iframe>
        </div>
        <div class="tool-block" id="calculator">
            <span class="title-of-box">Calculator</span>
            <iframe class="resize" src="http://ir.euroinvestor.com/solutionsstaging/demoOMXC20/<%=solutionId%>/calcsimple.aspx" frameborder="0"
                    width="100%" scrolling="no" ></iframe>
        </div>
        <div class="tool-block" id="lookup">
            <span class="title-of-box">History lookup</span>
            <iframe class="resize" src="http://ir.euroinvestor.com/solutionsstaging/demoOMXC20/<%=solutionId%>/lookup.aspx" frameborder="0"
                    width="100%" scrolling="no" ></iframe>
        </div>
        <div class="tool-block" id="news">
            <span class="title-of-box">News</span>
            <iframe class="resize" src="http://ir.euroinvestor.com/solutionsstaging/demoOMXC20/<%=solutionId%>/news.aspx" frameborder="0"
                    width="100%" scrolling="no" ></iframe>
        </div>
        <div class="tool-block" id="email">
            <span class="title-of-box">Email Alerts</span>
            <iframe class="resize" src="http://ir.euroinvestor.com/solutionsstaging/demoOMXC20/<%=solutionId%>/emailAlerts.aspx" frameborder="0"
                    width="100%" scrolling="no" ></iframe>
        </div>
    </div>
</script>

<script src="js/jquerymin.js" type="text/javascript"></script>
<script src="js/jquery.sparkline.js" type="text/javascript"></script>
<script src="js/tablesaw.js" type="text/javascript"></script>
<script src="js/router.js" type="text/javascript"></script>

<script src="js/main.js" type="text/javascript"></script>
<script src="js/boxes.js" type="text/javascript"></script>
<script src="js/table.js" type="text/javascript"></script>
<script src="js/touchslider.js" type="text/javascript"></script>
<script type="text/javascript" src="js/iframeResizer.min.js"></script>

<script>
    route('/', 'home', function () {
        $(document).on("click", '.getMore', function () {
            $(window).scrollTop(0);
            var title = $(this).data('title').replace(/\//g, "");
            var solutionID = $(this).data('solid');
            window.location.hash = '#/more/'+ title + '/' + solutionID;
        });
        $(document).on("touchstart", '.getMore', function () {
            $(window).scrollTop(0);
            var title = $(this).data('title').replace(/\//g, "");
            var solutionID = $(this).data('solid');
            window.location.hash = '#/more/'+ title + '/' + solutionID;
        });
        tableGenerate();
    });
    route('/more/:name/:id', 'more', function (params) {
        this.solutionId = params.id;
//        console.log('Solution ID: ' + params.id);
//        console.log('Name: ' + params.name);
    });

</script>
<script type="text/javascript">
// window.onload = function(){
//     setInterval(function(){
     
//         var iframe = document.querySelectorAll("iframe");

//         if (iframe.length > 0) {
//             for (var i = 0; i < iframe.length; i++) {
//                 iframe[i].height = iframe[i].contentWindow.document.body.clientHeight;
//             } 
//         }

//         iframe = null;

//     },500);

//     window.addEventListener('resize', function(event){
//         var iframe = document.querySelectorAll("iframe");

//         if (iframe.length > 0) {
//             for (var i = 0; i < iframe.length; i++) {
//                 iframe[i].height = iframe[i].contentWindow.document.body.clientHeight;
//             } 
//         }

//         iframe = null;
//     });
// }

    
// }
$(document).ready(function(){
    setInterval(function(){
        if ($("iframe.resize").length !== 0){
            $('iframe.resize').each(function(){
                $(this).height($(this).contents().find("body").outerHeight(true));
            })
        }
    }, 500);
    $(document).on('resize', function(){
        if ($("iframe.resize").length !== 0){
            $('iframe.resize').each(function(){
                $(this).height($(this).contents().find("body").outerHeight(true));
            })
        }
    })
})

// $(document).on('message', function(event){
//     console.log(event.data);
//         if ($("iframe").length !== 0){
//             $('iframe').each(function(){
//                 $(this).height(event.data);
//             })
//         }
//     })
// window.addEventListener('message',function(event) {
//     console.log('received response:  ',event.data);
// },false);
</script>
</body>

</html>
