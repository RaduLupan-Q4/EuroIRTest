<base href="http://ir.euroinvestor.com/solutions/Havfisk/2404/trades.aspx" target="_blank">

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html dir="lrt">
<head>
<title>IR Solutions, Euroinvestor</title>
<link rel="stylesheet" type="text/css" media="screen" href="/inc/css/ir.normalize.css?v=635808478203031177" />
<link rel="stylesheet" type="text/css" media="screen" href="/inc/css/ir.style.css?v=635919241470558637" />

<link rel="stylesheet" type="text/css" media="screen" href="/inc/css/core/ir.tool.trades.css?v=635808478203656149" />
<link rel="stylesheet" type="text/css" media="screen" href="http://localhost/solutions/Havfisk/2404/ir.client.css" />
</head>
<body>


<div class="IRTradesModule"></div>

<script type="text/javascript">
    var activeModules = ['IRTrades'];
</script>

<script id="IRTradesTemplate" type="text/x-handlebars-template">


    <div class="">
        <div id="prevClose">{{stocks/prevClose}}</div>
        {{stocks/changePercent}}
    </div>
    <table class="IRTradesModule table-look horizontal responsive" id="scroll-table">
        <tbody style="width: 100%;">
            <thead>
                <tr>
                    <th class="Header colum-first trade">Trade</th>
                    <th class="Header hidden timestampFull"></th>
                    <th class="Header price">{{headers/t_price}} ({{showCurrency}})</th>

                    <th class="Header volume">{{headers/t_volume}}</th>
                    <th class="Header value">{{headers/t_value}} ({{showCurrency}})</th>
                    <th class="Header column-last updated">{{headers/t_time}}</th>
                </tr>
            </thead>
            {{#data}}
            {{#data}}
            <tr>

                <td class="Data hidden timestampFull">{{timestamp}}</td>
                <td class="Data price">{{decimals tradePrice}}</td>
                <td class="Data volume">{{tradeVolume}}</td>
                <td class="Data value">{{showTradeValueLSE tradePrice tradeVolume}}</td>
                <td class="Data column-last updated" datetime="{{showDateTime timestamp}}">{{showTime timestamp}}</td>
            </tr>
            {{/data}}
            {{/data}}
        </tbody>
    </table>
</script>

<div class="disclaimer disclaimer-IRTrades">
<span class="disclaimer-copyright">Copyright &copy; 1997-2016 <a href="http://www.euroinvestor.com/ir/">Euroinvestor</a> </span><span class="disclaimer-dataSource">and our data suppliers. </span><span class="disclaimer-delayed">Data delayed by 15-20 min.</span><span class="disclaimer-terms"> <a href="http://ir.euroinvestor.com/disclaimer/terms_conditions.aspx">See Terms of use</a></span></div>
<script type="text/javascript" src="/includes/js/libs/jquery2-1-4.min.js?v=635808478220682775"></script>
<script type="text/javascript" src="http://localhost/solutions/Raute/2378/ir.client.js"></script>
<script type="text/javascript" src="/inc/scripts/core/ir.util.js?v=635923559522186217"></script>
<script type="text/javascript" src="/inc/scripts/bootstrap/3_2_0/bootstrap.min.js?v=635808478207695096"></script>
<script type="text/javascript" src="/includes/js/libs/handlebars1-3-0.min.js?v=635808478214120447"></script>
<script type="text/javascript" src="/includes/js/libs/moment2-7-0.min.js?v=635808478220995253"></script>
<script type="text/javascript" src="/includes/js/libs/moment-timezone0-3-1.min.js?v=635808478220995253"></script>
<script type="text/javascript" src="/inc/scripts/moment/moment-timezone-with-data-2010-2020.min.js?v=635808478211933009"></script>
<script type="text/javascript" src="/inc/scripts/browserSupport/respond.min.js?v=635808478207851217"></script>
<script type="text/javascript" src="/inc/scripts/ir.reset.js?v=635808478206445019"></script>
<script type="text/javascript" src="/inc/scripts/core/ir.behaviour.js?v=635918275990732307"></script>
<script type="text/javascript" src="/inc/scripts/core/ir.util.data.js?v=635923559128389614"></script>
<script type="text/javascript" src="/inc/scripts/jquery/jquery.dataTables.min.js?v=635808478210809722"></script>
<script type="text/javascript" src="/inc/scripts/tools/dataTables.scroller.min.js?v=635808478212245500"></script>
<script type="text/javascript" src="/inc/scripts/core/ir.util.draw.js?v=635923559534412441"></script>
</body>
</html>



<script type="text/javascript">

    $(function () {
        var toolSet = false;
        function prepareTool() {
            if (!toolSet) {
                if (typeof ($('td.timestampFull').html()) != 'undefined') {

                    updateTool();

                    toolSet = true;

                    try {
                        //Scroll Table
                        $('#scroll-table').dataTable({
                            "scrollY": "336px",
                            "scrollCollapse": true,
                            "bSort": false,
                            "paging": false
                        });

                    }
                    catch (err) {
                        console.log(err);

                    }


                }
            }
        }

        setInterval(function () {
            prepareTool();
        }, 100);

    });






    function updateTool() {
        //Compare Trade Price, Percentage Change and Price Change
        var prevClose = globalRawStockData[globalActiveListingIndex].prevClose;

        $(".IRTradesModule tr").each(function () {

            var currPrice = Number($(this).find("td.price").html());
            var currChange = Number($(this).find("td.change").html());
            var tdChangePercentage = $(this).find("td.changePercentage").text().replace('%', '');
            var currChangePercentage = Number(tdChangePercentage);
            var thisHTMLTradePriceChange = '';

            if (currPrice > 0 && prevClose > 0) {
                // Compare Price
                thisHTMLTradePriceChange = $(this).find("td.price").html();

                if (currPrice > prevClose) {
                    $(this).find("td.price").addClass('formatColourPos');
                    thisHTMLTradePriceChange = thisHTMLTradePriceChange + ' <span class="formatArrowPos"></span>';
                    $(this).find("td.changePercentage").addClass('formatColourPos');
                    $(this).find("td.change").addClass('formatColourPos');
                }

                else if (currPrice == prevClose) {
                    $(this).find("td.price").addClass('formatColourDef');
                    thisHTMLTradePriceChange = thisHTMLTradePriceChange + ' <span class="formatArrowDef"></span>';
                }

                else {
                    $(this).find("td.price").addClass('formatColourNeg');
                    thisHTMLTradePriceChange = thisHTMLTradePriceChange + ' <span class="formatArrowNeg"></span>';
                    $(this).find("td.changePercentage").addClass('formatColourNeg');
                    $(this).find("td.change").addClass('formatColourNeg');
                }

                $(this).find("td.price").html(thisHTMLTradePriceChange);

            }
        });

        //Table Row # Counter
        $('.IRTradesModule tr td:first-child').each(function (i) {
            $(this).before('<td>' + (i + 1) + '</td>');
        });

        //Table Seperator

        var amountOfTDs = 0;
        var amountofTRsToSkip = 1;

        $("#scroll-table tr").each(function () {

            //To display date in IE and Safari
            var currDate = new moment(
                new moment(
                    $(this).find("td.timestampFull").html()
                ).format("YYYY-MM-DD")
            );
            var prevDate = new moment(
                new moment(
                    $(this).next().find("td.timestampFull").html()
                ).format("YYYY-MM-DD")
            );

            var thisHTML = '';

            amountOfTDs = Number($(this).find('td:visible').length);
            var globalColspanAmount = amountOfTDs;

            if (new moment(prevDate) < new moment(currDate)) {
                if (amountofTRsToSkip == 0) {
                    $(this).before('<tr><td class="table-seperator" colspan="' + amountOfTDs + '"><div> ' + new moment(currDate).format(clientStyle.formatDate) + ' </div></td></tr>');
                    $(this).after('<tr><td class="table-seperator" colspan="' + amountOfTDs + '"><div> ' + new moment(prevDate).format(clientStyle.formatDate) + ' </div></td></tr>');
                } else {
                    $(this).after('<tr><td class="table-seperator" colspan="' + amountOfTDs + '"><div> ' + new moment(prevDate).format(clientStyle.formatDate) + ' </div></td></tr>');
                }
            }
            else {
                if (amountofTRsToSkip == 0) {
                    $(this).before('<tr><td class="table-seperator" colspan="' + amountOfTDs + '"><div> ' + new moment(currDate).format(clientStyle.formatDate) + ' </div></td></tr>');
                }
            }
            amountofTRsToSkip--;
        });

        $('#scroll-table tr').eq(2).each(function () {
            $(this).find("td").addClass('strong tradeCounter');
        });
    }

    Handlebars.registerHelper('showTradeChange', function (tradePrice) {
        var prevClose = globalRawStockData[globalActiveListingIndex].prevClose;
        return formatDecimal(tradePrice - prevClose);
    });
    Handlebars.registerHelper('showTradeChangePercentage', function (tradePrice) {
        var prevClose = globalRawStockData[globalActiveListingIndex].prevClose;
        return formatDecimal(((tradePrice - prevClose) / prevClose) * 100);
    });

</script>
